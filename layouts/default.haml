!!!
%html{:lang => "en-us"}
  = render '/head.haml'
  %body
    = render '/sidebar.haml'
    /
      Wrap is the content to shift when toggling the sidebar. We wrap the
      content to avoid any CSS collisions with our real content.
    .wrap
      .masthead
        .container
          %h3.masthead-title
            = link_to config[:site][:title], '/'
            %small
              = config[:site][:tagline]
      .container.content
        ~ yield
    %label.sidebar-toggle{:for => "sidebar-checkbox"}
    :javascript
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
